{"version":3,"sources":["../../routes/index.js"],"names":["express","require","router","Router","exec","get","req","res","next","error","stdout","stderr","console","log","json","JSON","parse","map","item","render","title","post","body","redirect","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;;eACiBF,QAAQ,eAAR,C;IAATG,I,YAAAA,I;;AAER;;;AACAF,OAAOG,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrCJ,SAAK,wBAAL,EAA+B,UAACK,KAAD,EAAQC,MAAR,EAAgBC,MAAhB,EAA2B;AACtD,YAAIF,KAAJ,EAAW;AACTG,oBAAQH,KAAR,kBAA6BA,KAA7B;AACA;AACD;AACDG,gBAAQC,GAAR,cAAuBH,MAAvB;AACA,YAAII,OAAOC,KAAKC,KAAL,CAAWN,MAAX,CAAX;AACAI,eAAOA,KAAKG,GAAL,CAAS;AAAA,mBAAQC,KAAK,CAAL,IAAQ,CAAhB;AAAA,SAAT,CAAP;AACA;AACAX,YAAIY,MAAJ,CAAW,OAAX,EAAoB,EAAEC,OAAO,4BAAT,EAApB;AACH,KAVD;AAWH,CAZD;;AAcAlB,OAAOmB,IAAP,CAAY,UAAZ,EAAuB,UAACf,GAAD,EAAKC,GAAL,EAAa;AAChCK,YAAQC,GAAR,CAAYP,IAAIgB,IAAhB;AACAf,QAAIgB,QAAJ,CAAa,GAAb;AACH,CAHD;;AAKAC,OAAOC,OAAP,GAAiBvB,MAAjB","file":"index.js","sourcesContent":["var express = require('express');\nvar router = express.Router();\nconst { exec } = require('child_process');\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n    exec('python ./helloworld.py', (error, stdout, stderr) => {\n        if (error) {\n          console.error(`exec error: ${error}`);\n          return;\n        }\n        console.log(`stdout: ${stdout}`);\n        let json = JSON.parse(stdout);\n        json = json.map(item => item[0]*2);\n        // res.json(json)\n        res.render('index', { title: 'Hệ thống phân loại bài báo' });\n    });\n});\n\nrouter.post('/analyze',(req,res) => {\n    console.log(req.body);\n    res.redirect('/')\n});\n\nmodule.exports = router;\n"]}